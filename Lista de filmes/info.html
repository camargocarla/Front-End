<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/info.css">

    <title>Filmes</title>
</head>

<body>
    <div class="info-container">
        <h1 class="info-title">About the Movie</h1>
        <div class="info">
        </div>
        <div class="img-container">
            <img src="img/undraw_reading_re_29f8.svg">
        </div>
        <script>

            // Obter a url
            let url = window.location.href;

            // Posição do código do filme
            let posicaoNome = url.indexOf("filme=") + 6;

            // Código do filme
            let codigoFilme = url.substring(posicaoNome);

            const apikey = 'bc4a94c4';

            fetch(`https://www.omdbapi.com/?i=${codigoFilme}&apikey=${apikey}`)
                .then(result => result.json())
                .then(json => {
                    const titleElement = document.createElement('h2');
                    titleElement.textContent = json.Title;
                    document.querySelector('.info').appendChild(titleElement);

                    const yearElement = document.createElement('p');
                    yearElement.textContent = `Year: ${json.Year}`;
                    document.querySelector('.info').appendChild(yearElement);

                    const plotElement = document.createElement('p');
                    plotElement.textContent = `Plot: ${json.Plot}`;
                    document.querySelector('.info').appendChild(plotElement);

                    const genreElement = document.createElement('p');
                    genreElement.textContent = `Genre: ${json.Genre}`;
                    document.querySelector('.info').appendChild(genreElement);

                    const runtimeElement = document.createElement('p');
                    runtimeElement.textContent = `Runtime: ${json.Runtime}`;
                    document.querySelector('.info').appendChild(runtimeElement);
                })
                .catch(error => console.error('Erro ao buscar informações do filme:', error));

        </script>
</body>

</html>